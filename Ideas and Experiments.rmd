---
title: "Ideas and Experiments"
author: "Orrego Chong, Kantelhardt, Kornelius"
date: "2023-05-23"
output: pdf_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```


```{r}
RDeeP_HeLa_Mitosis = read.csv("https://www.dropbox.com/s/ttj1z98mxefq0aj/RDeeP_HeLa_Mitosis.csv?dl=1", header=TRUE, row.names=1, sep = ";")
head(RDeeP_HeLa_Mitosis)
```

### Reordering columns

```{r}
#Random idea: idea was for better analysis later to have each repetition consecutive. This will maybe allow us to check each repetition as a whole easier. 

HeLa_Mitosis_reordered <- RDeeP_HeLa_Mitosis[, c(
  paste0("Fraction", 1:25, "_Ctrl_Rep1"),
  paste0("Fraction", 1:25, "_Ctrl_Rep2"),
  paste0("Fraction", 1:25, "_Ctrl_Rep3"),
  paste0("Fraction", 1:25, "_RNase_Rep1"),
  paste0("Fraction", 1:25, "_RNase_Rep2"),
  paste0("Fraction", 1:25, "_RNase_Rep3")
)]
head(HeLa_Mitosis_reordered)

# checking if we accidentally forget any additional rows
# sum(apply(HeLa_Mitosis_reordered, 2, is.numeric)) == ncol(RDeeP_HeLa_Mitosis)
```

### Student t-test 

```{r}
# Assuming the column of interest is named "Values"
# Extract the first three values from the column
subset_values <- RDeeP_HeLa_Mitosis[1, 1:3]

# Perform the t-test
t_test_result <- t.test(subset_values)

# Print the t-test result
print(t_test_result)
```


### Separate Ctrl and RNase

```{r}
#now separating the entire reordered consecutive table into the different categories. Maybe we could also do this with our not sorted data, but this way seems easier. Having control and RNase separate facilitates the comparison. 

#We know we have 150 columns, so the middle, the point where the RNase experiments start is then exactly after the middle. We can check this by:
colnames(HeLa_Mitosis_reordered)[75]
colnames(HeLa_Mitosis_reordered)[76]


#Now saving everything in a new table:
Mitosis_Ctrl <- HeLa_Mitosis_reordered[,1:75]
Mitosis_RNase <- HeLa_Mitosis_reordered[,76:150]

View(Mitosis_Ctrl)
```

```{r}
#In addition, we can now separate every repetition from each other. Maybe this can then be used for our student t-test, instead of checking every fraction separately for each repetition, we could then maybe also compare the fractions as a whole with each other?

Mitosis_Ctrl_rep1 <- HeLa_Mitosis_reordered[,1:25]
Mitosis_Ctrl_rep2 <- HeLa_Mitosis_reordered[,26:50]
Mitosis_Ctrl_rep3 <- HeLa_Mitosis_reordered[,51:75]

Mitosis_RNase_rep1 <- HeLa_Mitosis_reordered[,76:100]
Mitosis_RNase_rep2 <- HeLa_Mitosis_reordered[,101:125]
Mitosis_RNase_rep3 <- HeLa_Mitosis_reordered[,126:150]
```


## 2. Scale and Reduce Dataset

#### 2.1 Normalization (z-transformation or scaling)

z-transformation: x - mean(x)) / sd(x)

```{r}
Mitosis_Ctrl_rep1_norm <- apply(t(Mitosis_Ctrl_rep1),1, function(x)(x - mean(x)) / sd(x))

head(Mitosis_Ctrl_rep1_norm)
```


scaling:




